//package cn.mxz.fighter;////import cn.javaplus.common.db.DAO;//import cn.mxz.FormationTemplet;//import cn.mxz.FormationTempletConfig;//import cn.mxz.base.exception.IllegalOperationException;//import cn.mxz.formation.PlayerCamp;//import cn.mxz.user.City;//import cn.mxz.user.team.Team;//import cn.mxz.user.team.god.EquipmentTeam;//import cn.mxz.user.team.god.Hero;//import db.dao.factory.DaoFactory;//import db.domain.UserFormationFighter;////public class EquipmentTeam2 implements EquipmentTeam {////	private City	city;////	public EquipmentTeam2(City city) {////		this.city = city;//	}////	@Override//	public void moveFighterToDepot(int fighterId) {////		checkToDepot(fighterId);////		DAO<String, UserFormationFighter> DAO = DaoFactory.getUserFormationFighterDAO();////		UserFormationFighter f = DAO.get(city.getId());////		set(fighterId, f, -1);//	}////	/**//	 * 将第一个为fighterId的值, 设置为value, 返回索引位置//	 * @param fighterId//	 * @param f//	 * @param value//	 * @return//	 *///	private void set(int fighterId, UserFormationFighter f, int value) {////		for (int i = 0; i < UserFormationFighter.FIGHTER_TYPE_ID_LEN; i++) {////			int fighterTypeId = f.getFighterTypeId(i);////			if(fighterTypeId == fighterId) {////				f.setFighterTypeId(i, value);////				DAO<String, UserFormationFighter> DAO = DaoFactory.getUserFormationFighterDAO();////				DAO.update(f);////				break;//			}//		}//	}////	private void checkToDepot(int fighterId) {////		Hero god = city.getTeam().getGod(fighterId);////		if(god instanceof PlayerHero) {////			throw new OperationFaildException(S.S10261);     -------throw new OperationFaildException(S.S10262);     -------throw new OperationFaildException(S.S10263);     -------throw new OperationFaildException(S.S10264);     -------throw new (S.S10281);     -------队伍已经装满了!//		}////		int index = city.getFormation().getIndex(god);////		if(index == -1) {////			throw new (S.S10282);     -------该神将没有在队伍中//		}//	}////	@Override//	public void moveFighterToTeam(int fighterId) {////		checkToTeam(fighterId);////		add(fighterId);//	}////	private int findFirstEmpty(Team team) {////		checkFull();////		DAO<String, UserFormationFighter> DAO = DaoFactory.getUserFormationFighterDAO();////		UserFormationFighter f = DAO.get(city.getId());////		for (int i = 0; i < UserFormationFighter.FIGHTER_TYPE_ID_LEN; i++) {////			if(!enable(i)) {////				continue;//			}//////			int id = f.getFighterTypeId(i);////			Hero god = team.getGod(id);////			if(god == null) {////				return i;//			}//		}////		throw new RuntimeException();//	}////	private boolean enable(int pos) {////		PlayerCamp s = city.getFormation().getSelected();////		int id = s.getId();////		FormationTemplet f = FormationTempletConfig.get(id);////		int number = f.getNumber();////		pos %= (UserFormationFighter.FIGHTER_TYPE_ID_LEN / 2);////		return pos < number;//	}////	private void add(int fighterId) {////		DAO<String, UserFormationFighter> DAO = DaoFactory.getUserFormationFighterDAO();////		UserFormationFighter f = DAO.get(city.getId());////		f.setFighterTypeId(findFirstEmpty(city.getTeam()), fighterId);////		DAO.update(f);//	}////	private void checkToTeam(int fighterId) {////		Hero god = city.getTeam().getGod(fighterId);////		if(god == null) {////			throw new (S.S10283);     -------神将不存在//		}////		checkFull();//	}////	private void checkFull() {//		if(city.getFormation().isFull()) {////			throw new (S.S10284);     -------队伍已经装满了!//		}//	}////}