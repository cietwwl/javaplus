package cn.mxz.model
{
	import cn.mxz.entities.IEntityVarable;
	import cn.mxz.utils.TileLibray;

	/**
	 * @author Jack.qu
	 * @version 1.0.0
	 * */
	public class CLASS_NAMEModel extends ConfigModel
	{
		public static var e:CLASS_NAMEModel = new CLASS_NAMEModel();
		
		public function CLASS_NAMEModel()
		{
			super();
		}
		
		override public function getData(id:*):IEntityVarable
		{
			return m_dict[id];
		}
		
		override public function setData(xmlID:String):void
		{
			super.setData(xmlID);
			
			var xml:XML = new XML(String(m_model.config.configDict[xmlID]));
			var list:XMLList = xml.item;
			var config:XMLList = xml.config;
			
			for (var i:int = 0; i < list.length(); i++)
			{
				var vo:* = TileLibray.getInstance().getClassByName(xml.classPath);
				var xmlList:XMLList = list[i].attributes();
				for (var j:int = 0; j < xmlList.length(); j++)
				{
					vo[String(xmlList[j].name())] = xmlList[j];
				}
				
				vo["url"] = m_model.config.rootPath + String(config.@prefix);
				m_dict[vo[String(config.@index)]] = vo;
			}
		}
		
		override public function destory():void
		{
			super.destory();
			e = null;
		}
		
		public static function set data(xmlID:String):void
		{
			CLASS_NAMEModel.e.setData(xmlID);
		}
		
		public static function getValueByID(id:*):IEntityVarable
		{
			return CLASS_NAMEModel.e.getData(id);
		}
		
	}
}