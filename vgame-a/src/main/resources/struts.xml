<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
	<constant name="struts.devMode" value="true" />

	<package name="account" extends="struts-default" namespace="/account">
		<action name="enterServer" class="cn.vgame.a.account.EnterServerAction" />
		<action name="createRole" class="cn.vgame.a.account.CreateRoleAction" />
		<action name="getRoleList" class="cn.vgame.a.account.GetRoleListAction" />
		<action name="selectRole" class="cn.vgame.a.account.SelectRoleAction" />
	</package>
	
	<package name="recharge" extends="struts-default" namespace="/recharge">
		<action name="recharge4YiJie" class="cn.vgame.a.recharge.Recharge4YiJieAction" />
		
		<action name="recharge4XY" class="cn.vgame.a.recharge.Recharge4XYAction" />
		
		<action name="recharge4XYTest" class="cn.vgame.a.recharge.Recharge4XYAction" />
		
		<!-- 这个链接是客户端调用的, 客户端调用后, 服务器向AppStore验证订单号是否正确 -->
		<action name="recharge4AppStoreBuyClient" class="cn.vgame.a.recharge.Recharge4AppStoreBuyClientAction" />
		
	</package>
	

	<package name="turntable" extends="struts-default" namespace="/turntable">
		<action name="commitMySwitchs" class="cn.vgame.a.turntable.CommitMySwitchsAction" />
		<action name="synchronizeData" class="cn.vgame.a.turntable.SynchronizeDataAction" />
		<action name="getAllSwitchs" class="cn.vgame.a.turntable.GetAllSwitchsAction" />
		<action name="playonce" class="cn.vgame.a.turntable.PlayOnceAction" />
		<action name="getPlayResult" class="cn.vgame.a.turntable.GetPlayResultAction" />
		<action name="getUserData" class="cn.vgame.a.turntable.GetUserDataAction" />
		<action name="getCd" class="cn.vgame.a.turntable.GetCdAction" />
		<action name="getHistory" class="cn.vgame.a.turntable.GetHistoryAction" />

		<action name="toBank" class="cn.vgame.a.bank.ToBankAction" />
		<action name="fromBank" class="cn.vgame.a.bank.FromBankAction" />
		<action name="sendCoin" class="cn.vgame.a.bank.SendCoinAction" />

		<action name="getRole" class="cn.vgame.a.turntable.GetRoleAction" />

		<!-- 在知道密码 的情况下 修改密码, 参数: oldPassword 原密码 newPassword 新密码 -->
		<!-- 例子: setBankPassword?oldPassword=123456&newPassword=234567 -->
		<action name="setBankPassword" class="cn.vgame.a.turntable.SetBankPasswordAction" />


		<!-- 强制解锁, 需要N小时等待时间, 参数: 无 -->
		<action name="unlockBankPassword" class="cn.vgame.a.turntable.UnlockBankPasswordAction" />



		<!-- 取消强制解锁 -->
		<action name="cancelUnlockBankPassword"
			class="cn.vgame.a.turntable.CancelUnlockBankPasswordAction" />

		<!-- 获取修改密码界面数据 返回值 { "cd":3600 //秒 } -->
		<action name="getBankPasswordUI" class="cn.vgame.a.turntable.GetBankPasswordUIAction" />
		
		<!-- 

			获取上庄用户列表   
			传入参数
				无		
			
			返回
			
			 * A.正常情况: { 
			 *	zhuangCoin 当前庄家金币
			 *	zhuangNick 当前庄家昵称
			 * 		roles: [
			 * 			{roleId :100122231, coin:10000000},
			 * 			{roleId :100122232, coin:10000001},
			 * 			{roleId :100122233, coin:10000002},
			 * 			{roleId :100122234, coin:10000003}
			 * 		]
			 * 
			 * }

		-->
		<action name="getZhuangList" class="cn.vgame.a.turntable.GetZhuangListAction" />
		
		<!-- 
		
		上庄 
			传入参数
				无
			返回
				同 getZhuangList
		
		-->
		<action name="shangZhuang" class="cn.vgame.a.turntable.ShangZhuangAction" />
		
		<!-- 
		
		下庄 
		
			传入参数
				无
			返回
				同 getZhuangList
		-->
		<action name="xiaZhuang" class="cn.vgame.a.turntable.XiaZhuangAction" />
		
		<!-- 
		
		买东西 
			传入参数
				id: 买的物品id, 对应配置表 marketplace.id
			返回
				{ type:购买物品类型, id:购买id  客户端发好多就原样返回, count:数量}
		-->
		<action name="buy" class="cn.vgame.a.turntable.BuyAction" />
		
		<!-- 
		
			获得彩金历史记录
			传入参数
				无
			返回
			 * {
			 * 		historys: [
			 *			{ id:历史记录id, roleId:获得彩金的角色id, nick获得彩金的角色昵称, caiJin获得彩金的数量},
			 *			{ id:历史记录id, roleId:获得彩金的角色id, nick获得彩金的角色昵称, caiJin获得彩金的数量},
			 *			{ id:历史记录id, roleId:获得彩金的角色id, nick获得彩金的角色昵称, caiJin获得彩金的数量},
			 *			{ id:历史记录id, roleId:获得彩金的角色id, nick获得彩金的角色昵称, caiJin获得彩金的数量},
			 *			{ id:历史记录id, roleId:获得彩金的角色id, nick获得彩金的角色昵称, caiJin获得彩金的数量},
			 *			{ id:历史记录id, roleId:获得彩金的角色id, nick获得彩金的角色昵称, caiJin获得彩金的数量}
			 *		]
			 *  }
		 -->
		<action name="getCaiJinHistory" class="cn.vgame.a.turntable.GetCaiJinHistoryAction" />
		
		<!-- 
		
			获得随机推荐20个玩家
			传入参数
				count 可选项, 如果不发,默认20个
			返回
			 * {
			 * 		count:数量,
			 * 		roles: [
			 *			{ roleId:角色id,  nick昵称},
			 *			{ roleId:角色id,  nick昵称},
			 *			{ roleId:角色id,  nick昵称},
			 *			{ roleId:角色id,  nick昵称},
			 *			{ roleId:角色id,  nick昵称},
			 *			{ roleId:角色id,  nick昵称},
			 *			{ roleId:角色id,  nick昵称},
			 *		]
			 *  }
		 -->
		<action name="recommendRoles" class="cn.vgame.a.turntable.RecommendRolesAction" />
		
		<!-- 
		* A.正常情况:
 * 	{
 * 		zhuang:{//庄家
 * 			nick:昵称
 * 			roleId:角色id
 * 			coin: 获得金豆
 *      }
 *      
 *      me: {	//本家
 * 			nick:昵称
 * 			roleId:角色id
 * 			coin: 获得金豆
 *      }
 *      
 *      rankingList: [
 *      	 { nick:昵称, roleId:角色id, coin: 获得金豆},
 *      	 { nick:昵称, roleId:角色id, coin: 获得金豆},
 *      	 { nick:昵称, roleId:角色id, coin: 获得金豆},
 *      	 { nick:昵称, roleId:角色id, coin: 获得金豆},
 *      	 { nick:昵称, roleId:角色id, coin: 获得金豆},
 *     		 ...
 *      ]
 * 	}
		 -->
		 
		 <action name="getRankingList" class="cn.vgame.a.turntable.GetRankingListAction" />
		
	</package>

	<!-- 喊话 -->
	<package name="message" extends="struts-default" namespace="/message">
		<action name="sendMessage" class="cn.vgame.a.message.SendMessageAction" />
		<action name="getMessages" class="cn.vgame.a.message.GetMessagesAction" />
	</package>


	<!-- 领取金币 -->
	<package name="receivecoin" extends="struts-default" namespace="/receivecoin">
		<action name="receivecoin" class="cn.vgame.a.receivecoin.ReceiveCoinAction" />
	</package>

	<package name="gm" extends="struts-default" namespace="/gm">

		<interceptors>
			<interceptor name="gmlog" class="cn.vgame.a.log.LogInterceptor"></interceptor>
			<interceptor-stack name="defaultStack">
				<interceptor-ref name="gmlog"></interceptor-ref>
				<interceptor-ref name="defaultStack"></interceptor-ref>
			</interceptor-stack>
		</interceptors>

		<action name="reloadConfig" class="cn.vgame.a.gm.ReloadConfigAction">
			<result type="redirect">/gm/reloadSuccess.jsp</result>
		</action>

		<action name="execScript" class="cn.vgame.a.gm.ExecScriptAction" />

		<action name="mustGenerate" class="cn.vgame.a.gm.MustGenerateAction">
			<result type="redirect">/gm/turntableControl.jsp</result>
		</action>


		<action name="caiJinMustTo" class="cn.vgame.a.gm.CaiJinMustToRobotAction">
			<result type="redirect">/gm/turntableControl.jsp</result>
		</action>


		<action name="setUser" class="cn.vgame.a.gm.SetUserAction">
			<result type="redirect">/gm/setUser.jsp</result>
		</action>
		
		<action name="setSystemInfo" class="cn.vgame.a.gm.SetSystemInfoAction">
			<result type="redirect">/gm/systemInfo.jsp</result>
		</action>
		
		<action name="setGanSheTime" class="cn.vgame.a.gm.SetGanSheTimeAction">
			<result type="redirect">/gm/systemInfo.jsp</result>
		</action>
		<action name="setKuCun" class="cn.vgame.a.gm.SetKuCunAction">
			<result type="redirect">/gm/systemInfo.jsp</result>
		</action>

		<action name="setRobot" class="cn.vgame.a.gm.SetRobotAction">
			<result type="redirect">/gm/queryUsers.jsp</result>
		</action>

	</package>

</struts>    
