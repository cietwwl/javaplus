package mongo.gen;import com.mongodb.BasicDBObject;import com.mongodb.DBCollection;import com.mongodb.DBCursor;import com.mongodb.DBObject;import java.util.Iterator;import cn.javaplus.exception.UnImplMethodException;public class AchieveTaskDao {	private DBCollection	collection;	public AchieveTaskDao(DBCollection collection) {		this.collection = collection;	}	public void save(AchieveTaskDto u) {		collection.save(u.toDBObject());	}	public void delete(AchieveTaskDto u) {		collection.remove(u.toDBObject());	}	public void delete(int taskId, String uname) {		collection.remove(key(taskId, uname));	}	public AchieveTaskDto get(int taskId, String uname) {		DBObject o = collection.findOne(key(taskId, uname));		if(o == null) {			return null;		}		AchieveTaskDto x = new AchieveTaskDto();		x.fromDBObject(o);		return x;	}	private BasicDBObject key(int taskId, String uname) {		BasicDBObject o = new BasicDBObject();		o.put("_id", taskId + ":" + uname);		return o;	}	public AchieveTaskDtoCursor find() {		return new AchieveTaskDtoCursor(collection.find());	}	public long getCount() {		return collection.count();	}	public AchieveTaskDtoCursor findByTaskId(int taskId) {		collection.ensureIndex("taskId");		BasicDBObject o = new BasicDBObject("taskId", taskId);		return new AchieveTaskDtoCursor(collection.find(o));	}
	public AchieveTaskDtoCursor findByUname(String uname) {		collection.ensureIndex("uname");		BasicDBObject o = new BasicDBObject("uname", uname);		return new AchieveTaskDtoCursor(collection.find(o));	}
	public AchieveTaskDtoCursor findByFinishtimes(int finishtimes) {				BasicDBObject o = new BasicDBObject("finishtimes", finishtimes);		return new AchieveTaskDtoCursor(collection.find(o));	}
	public AchieveTaskDtoCursor findByIsDraw(boolean isDraw) {				BasicDBObject o = new BasicDBObject("isDraw", isDraw);		return new AchieveTaskDtoCursor(collection.find(o));	}
	public void clear () {		collection.drop();	}	public AchieveTaskDto createDTO() {		return new AchieveTaskDto();	}	public static class AchieveTaskDtoCursor implements Iterator<AchieveTaskDto>, Iterable<AchieveTaskDto>{		private DBCursor	cursor;		public AchieveTaskDtoCursor(DBCursor cursor) {			this.cursor = cursor;		}		public boolean hasNext() {			return cursor.hasNext();		}		public AchieveTaskDto next() {			DBObject next = cursor.next();			AchieveTaskDto dto = new AchieveTaskDto();			dto.fromDBObject(next);			return dto;		}		public int getCount() {			return cursor.count();		}		public void remove() {			throw new UnImplMethodException();		}		public Iterator<AchieveTaskDto> iterator() {			return this;		}	}}